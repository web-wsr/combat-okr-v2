<!--pages/okr_detail/okr_detail.wxml-->
<view class="page-container">
  <view class="page-content">
    <view class="objective-item {{okr.status === 0 ? 'finished' : ''}}" hover-class="objective-item--hover" bindtap="handleObjectiveActionSheet" data-status="{{okr.status}}" data-id="{{okr.id}}">
      <view class="objective-title">{{okr.objective}}</view>
      <view class="objective-created_time">创建时间：{{okr.created_time}}</view>
      <view class="objective-created_time" wx:if="{{okr.completed_time}}">完成时间：{{okr.completed_time}}</view>
    </view>
    <view class="keyresult-list" wx:key="{{item.id}}" wx:for="{{ okr.keyresults }}" data-id="{{item.id}}">
      <view class="keyresult-item {{item.status === 0 ? 'finished' : ''}}" hover-class="keyresult-item--hover" bindtap="handleKeyresultActionSheet" data-id="{{item.id}}" data-index="{{index}}" data-status="{{item.status}}">
        <view class="keyresult-info">
          <view class="keyresult-title">{{item.keyresult}}</view>
          <view class="keyresult-tag">{{item.status ? '点击标记' : '已完成' }}</view>
        </view>
        <view class="todos-list" wx:if="{{item.todos.length}}">
          <view class="todo-item"  wx:for="{{ item.todos }}"  wx:key="{{todo.id}}" data-id="{{todo.id}}" wx:for-item="todo">
            <view class="todo-title {{todo.status === 0 ? 'finished' : ''}}">{{todo.todo}}</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>